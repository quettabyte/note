---
title: Hexo常用配置笔记
date: 2022-07-20 17:03:22
author: cokeice
tags: [Hexo, Fluid]
categories: 
    - 笔记
    - Hexo
index_img: /img/hexo/hexo.webp
excerpt: Hexo Fluid官方文档的中一些常用的配置
sticky: 10000
---

<p align='center'>
<a href="https://www.github.com/Cokeic" target="_blank"><img src="https://img.shields.io/badge/Github-@可乐冰-f3e1e1.svg?style=flat-square&logo=Github&logoColor=181717"></a><a href="https://www.gitee.com/Cokeice" target="_blank"><img src="https://img.shields.io/badge/Gitee-@可乐冰-f3e1e1.svg?style=flat-square&logo=Gitee&logoColor=C71D23"></a><a href="https://cokeice.gitee.io/img/wechat/wx.png" target="_blank"><img src="https://img.shields.io/badge/微信-@LNFeng-f3e1e1.svg?style=flat-square&logo=WeChat"></a>

[Hexo官网👈](https://hexo.io/zh-cn/)

[Fluid示例👈](https://hexo.fluid-dev.com/)


## 全局配置

### 博客标题

页面左上角的博客标题，默认使用**站点配置**中的 `title`，这个配置同时控制着网页在浏览器标签中的标题。

如需单独区别设置，可在**主题配置**中设置：

```yaml
navbar:
  blog_title: 博客标题
```

###  导航菜单

```yaml
navbar:
  menu:
    - { key: 'home', link: '/', icon: 'iconfont icon-home-fill' }
    - { key: 'tag', link: '/tags/', icon: 'iconfont icon-tags-fill' }
    - { key: 'about', link: '/about/', icon: 'iconfont icon-user-fill', name: '联系我' }
```

* `key`: 用于关联有[语言配置](https://hexo.fluid-dev.com/docs/guide/#语言配置)，如不存在关联则显示 key 本身的值
* `link`: 跳转链接
* `icon`: 图标的 css class，可以省略（即没有图标），主题内置图标详见[这里](https://hexo.fluid-dev.com/docs/icon/)
* `name`: 强制使用此名称显示（不再按语言配置显示），可省略

另外支持二级菜单（下拉菜单），配置写法如下：

```yaml
menu:
  - {
      key: '文档',
      icon: 'iconfont icon-books',
      submenu: [
        { key: '主题博客', link: 'https://hexo.fluid-dev.com/' },
        { key: '配置指南', link: 'https://hexo.fluid-dev.com/docs/guide/' },
        { key: '图标用法', link: 'https://hexo.fluid-dev.com/docs/icon/' }
      ]
  }
```

### 懒加载

懒加载又称延迟加载。开启后，当图片或评论插件滚动到可见范围内才会加载，可以大幅提高打开网页的速度。

该功能默认开启，可以在**主题配置**中修改参数：

```yaml
lazyload:
  enable: true
  loading_img: /img/loading.gif
  onlypost: false
  offset_factor: 2
```

`loading_img`: 指定加载时的占位图片

`onlypost`: 为 true 时，懒加载仅在文章页生效，如果自定义页面需要使用，可以在 Front-matter里指定 `lazyload: true`

`offset_factor`: 触发加载的偏移倍数，基数是视窗高度（即提前 N 屏高度触发加载），可根据部署环境的请求速度调节

### 二级站点路径

如果你的博客部署在二级路径（如: xxx.com/blog/），需要修改**站点配置**中：

```yaml
url: http://xxx.com/blog
root: /blog/
```

## 写作

### 文章摘要

开关自动摘要（默认开启）：

```yaml
index:
  auto_excerpt:
    enable: true
```

若要手动指定摘要，使用 `<!-- more -->` MD文档里划分，如：

```markdown
正文的一部分作为摘要
<!-- more -->
余下的正文
```

或者在 [Front-matter (opens new window)](https://hexo.io/zh-cn/docs/front-matter)里设置 `excerpt` 字段，如：

```yaml
---
title: 这是标题
excerpt: 这是摘要
---
```

> 优先级: 手动摘要 > 自动摘要
>
> 如果关闭自动摘要，并且没有设置手动摘要，摘要区域空白
>
> 无论哪种摘要都最多显示 3 行，当屏幕宽度不足时会隐藏部分摘要。

### 文章跳转方式

```yaml
index:
  post_url_target: _self
```

可选值：

1. _blank：新标签页打开
2. _self：当前标签页打开

###  文章信息

可配置隐藏包括发布时间、分类、标签。

经过测试，如果首页的文章列表中没有略缩图和摘要，标题+文章信息的显示方式会使页面过于拥挤，所以给出此项配置供喜欢首页只显示文章标题的同学使用。

```yaml
index:
  post_meta:
    date: true
    category: true
    tag: true
```

### 隐藏文章

如果想把某些文章隐藏起来，不在首页和其他分类里展示，可以在文章开头 [Front-matter (opens new window)](https://hexo.io/zh-cn/docs/front-matter)中配置 `hide: true` 属性。

```yaml
---
title: 文章标题
index_img: /img/example.jpg
date: 2019-10-10 10:00:00
hide: true
---
以下是文章内容
```

> 隐藏会使文章在分类和标签类里都不显示
>
> 隐藏后依然可以通过文章链接访问

### 文章排序

如果想手动将某些文章固定在首页靠前的位置，可以在安装 `hexo-generator-index` >= 2.0.0 版本的情况下，在文章开头 [Front-matter (opens new window)](https://hexo.io/zh-cn/docs/front-matter)中配置 `sticky` 属性：

```yaml
---
title: 文章标题
index_img: /img/example.jpg
date: 2019-10-10 10:00:00
sticky: 100
---
以下是文章内容
```

`sticky` 数值越大，该文章越靠前，达到类似于置顶的效果，其他未设置的文章依然按默认排序。

当文章设置了 `sticky` 后，主题会默认在首页文章标题前增加一个图标，来标识这是一个置顶文章，你可以通过**主题配置**去关闭或修改这个功能：

```yaml
index:
  post_sticky:
    enable: true
    icon: 'iconfont icon-top'
```

`icon` 可以通过[自定义图标](https://hexo.fluid-dev.com/docs/icon/)修改为其他图标。

### 文章在首页的封面图

```yaml
---
index_img: /img/example.jpg
---
以下是文章内容
```

如果想统一给文章设置一个默认图片（文章不设置 `index_img` 则默认使用这张图片），可在**主题配置**中设置：

当 `default_index_img` 和 `index_img` 都为空时，该文章在首页将不显示图片。

### 文章页顶部大图

默认显示**主题配置**中的 `post.banner_img`，如需要设置单个文章的 Banner，在 Front-matter 中指定 `banner_img` 属性

```yaml
---
banner_img: /img/post_banner.jpg
---
以下是文章内容
```

### 日期/字数/阅读时长/阅读数

显示在文章页大标题下的文章信息，除了作者和阅读次数，其他功能都是默认开启的。

```yaml
post:
  meta:
    author:  # 作者，优先根据 front-matter 里 author 字段，其次是 hexo 配置中 author 值
      enable: false
    date:  # 文章日期，优先根据 front-matter 里 date 字段，其次是 md 文件日期
      enable: true
      format: "dddd, MMMM Do YYYY, h:mm a"  # 格式参照 ISO-8601 日期格式化
    wordcount:  # 字数统计
      enable: true
      format: "{} 字"  # 显示的文本，{}是数字的占位符（必须包含)，下同
    min2read:  # 阅读时间
      enable: true
      format: "{} 分钟"
    views:  # 阅读次数
      enable: false
      source: "leancloud"  # 统计数据来源，可选：leancloud | busuanzi   注意不蒜子会间歇抽风
      format: "{} 次"
```

> 日期格式必须遵循 ISO-8601 规范，否则无法正常显示；
>
> 其他格式必须包括 `{}` 符号代替数字，文字可自由设置。

## 关于页

### 创建关于页

首次使用主题的「关于页」需要手动创建：

```bash
$ hexo new page about
```

创建成功后修改 `/source/about/index.md`，添加 `layout` 属性。

修改后的文件示例如下：

```yaml
---
title: 标题
layout: about
---

这里可以写正文，支持 Markdown, HTML
```

> WARNING
>
> `layout: about` 必须存在，并且不能修改成其他值，否则不会显示头像等样式。

### 关于信息

在关于页介绍自己的基础信息，可以在**主题配置**中设置：

```yaml
about:
  avatar: /img/avatar.png
  name: "Fluid"
  intro: "An elegant theme for Hexo"
```

### 社交页图标

在**主题配置**中设置：

```yaml
about:
  icons:
    - { class: 'iconfont icon-github-fill', link: 'https://github.com', tip: 'GitHub' }
    - { class: 'iconfont icon-douban-fill', link: 'https://douban.com', tip: '豆瓣' }
    - { class: 'iconfont icon-wechat-fill', qrcode: '/img/favicon.png' }
```

* `class`: 图标的 css class，主题内置图标详见[这里](https://hexo.fluid-dev.com/docs/icon/)
* `link`: 跳转链接
* `tip`: 鼠标悬浮在图标上显示的提示文字
* `qrcode`: 二维码图片，当使用此字段后，点击不再跳转，而是悬浮二维码

## 404 页

404 页是在访问不存在的博客链接时，出现的错误提示页面。

开启此页面需要在博客的部署环境上配置：

* 如果博客部署在云服务器，需要 Nginx 配置文件设置 `error_page 404 = /404.html`；
* 如果部署在 GitHub Pages 上，不需要额外配置，但必须绑定顶级域名才生效；
* 其他 OSS 等平台，请参考各平台关于 404 页的配置文档，但并不是所有平台都支持跳转 Html。

主题包含默认的404页面，你也可以将自定义的 `404.html` 放置在博客的 `source` 目录下。





