## 虚拟主机  VirtualHost 

### 一、虚拟主机介绍 

​	作用: 在一台服务器运行多个网站 

​	注意: 

​		建议使用虚拟主机的方式部署网站 ，方便后续扩展 

​	类型: 

​		1、基于名称的虚拟主机

​		2、基于IP地址的虚拟主机 



​	配置虚拟主机语法结构: 

```
<VirtualHost IP:port>
     ServerName   .....
     DocumentRoot ......
     ErrorLog     .......
     CustomLog    ...........
</VirtualHost>
```



### 二、配置基于名称的虚拟主机 

​		vedio.linux.com		/var/www/html/vedio			

​		audio.linux.com		/audio



#### 1、配置vedio.linux.com虚拟主机 

##### 1) 创建网页目录，测试首页 

```
[root@web_server ~]# mkdir /var/www/html/vedio
[root@web_server ~]# vim /var/www/html/vedio/index.html
[root@web_server ~]# cat /var/www/html/vedio/index.html
<h1> 视频网站 </h1>
```



##### 2) 创建虚拟主机配置文件

```
[root@web_server ~]# cat /etc/httpd/conf.d/vedio.conf
<VirtualHost 192.168.183.11:80>
     ServerName vedio.linux.com
     DocumentRoot /var/www/html/vedio
     ErrorLog /var/log/httpd/vedio_error.log
     CustomLog /var/log/httpd/vedio_access.log  combined
</VirtualHost>
```



##### 3) 重启httpd，测试虚拟主机访问 

```
[root@web_server ~]# httpd -t
Syntax OK
[root@web_server ~]# systemctl restart httpd
```



#### 2、配置audio.linux.com虚拟主机 

##### 1) 创建网页目录，测试页面 

```
[root@web_server ~]# mkdir /audio
[root@web_server ~]# vim /audio/index.html
[root@web_server ~]# cat /audio/index.html
<h1> 音频网站 </h1>
```



##### 2) 编辑配置文件

```
[root@web_server ~]# cat /etc/httpd/conf.d/audio.conf 
<VirtualHost 192.168.183.11:80>
     ServerName audio.linux.com
     ServerAlias linux.com audio.com
     DocumentRoot /audio
     ErrorLog /var/log/httpd/audio_error.log
     CustomLog /var/log/httpd/audio_access.log  combined
</VirtualHost>

<Directory "/audio">
     Require all granted
</Directory>
[root@web_server ~]# 
```



##### 3) 重启httpd，测试虚拟主机访问 

```
[root@web_server ~]# httpd -t
Syntax OK
[root@web_server ~]# systemctl restart httpd
```





### 三、配置基于IP地址的虚拟主机

​		shell.linux.com		192.168.183.100		/shell

​		python.linux.com	192.168.183.200		/python



#### 1、配置多网卡地址

#### 2、虚拟主机配置文件

```
<VirtualHost 192.168.183.100:80>
      ServerName shell.linux.com
      DocumentRoot /shell
      ErrorLog /var/log/httpd/shell_error.log
      CustomLog /var/log/httpd/shell_access.log combined
</VirtualHost>

<Directory "/shell">
    Require all granted
</Directory>
```



```
<VirtualHost 192.168.183.200:80>
      ServerName python.linux.com
      DocumentRoot /python
      ErrorLog /var/log/httpd/python_error.log
      CustomLog /var/log/httpd/python_access.log combined
</VirtualHost>

<Directory "/python">
    Require all granted
</Directory>
```









