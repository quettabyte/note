## url路由写法

### 一、re_path方法的使用

```
path('url地址', 视图函数名称)

re_path('正则表达式', 视图函数)
```

#### 1、re_path()用法

```
re_path("book/\d+/", views.book)
```

#### 2、支持通过正则中的分组向视图函数传递参数

##### 方式1) 不命名的方式 

```
re_path('book/(\d+)/', views.book),
```

```
def book(request, n):
    # print(n)
    return HttpResponse("书籍ID为%s信息" % (n))
```

##### 方法2) 命名的方式

```
注意:
	视图函数中定义的参数名要与分组名一致！！！！
```

```
re_path('car/(?P<park_id>\d+)/(?P<car_id>\d+)/', views.car)
```

```
def car(request, park_id, car_id):
    return HttpResponse("停车场ID为%s车辆ID为%s信息" % (park_id, car_id))
```



### 二、url分发

#### 1、app

```
本质上就是目录

作用：
	方便代码分类管理 
```

#### 使用app的完整流程

##### 1) 创建app

```
> django-admin startapp 名称 
```

```
(project1207_venv) D:\20201207\django01>django-admin startapp userManager

(project1207_venv) D:\20201207\django01>django-admin startapp hostManager
```

##### 2) 注册app 

```
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'userManager',
    'hostManager',
]
```



##### django01/urls.py

```
from django.contrib import admin
from django.urls import path, re_path, include


urlpatterns = [
    path('admin/', admin.site.urls),
    path('user/', include("userManager.urls")),
    path('host/', include("hostManager.urls")),
]
```

##### userManager/urls.py

```
from django.contrib import admin
from django.urls import path, re_path, include
from userManager import views

urlpatterns = [
    path('login/', views.login),
    path('register/', views.register),
]
```

##### userManager/views.py

```
from django.shortcuts import render
from django.http import HttpResponse

# Create your views here.

def login(request):
    return HttpResponse("用户登录功能")

def register(request):
    return HttpResponse("用户注册")
```



### 三、创建django项目流程

```
1、创建django项目
2、创建app、注册app
3、创建模板目录、配置模板目录
```



















