## 数据类型——字典 

### 一、定义字典 	dict

```
被定义在一对大括号中{ }的数据, 称为字典
存储键值对，不同的键值对使用逗号隔开

{"k":"v", "k":"v", "k":"v"}

键必须惟一, 值可以是任意数据类型

可变的数据类型 

```

```
data_01 = {}
print(type(data_01))

data_02 = { "martin":"redhat", "robin":"123" }

data_03 = {
    "10.1.1.1": {
        "user": "root",
        "pwd": "redhat",
        "ssh_port": "22"
    },
    "10.1.1.2": {
        "user": "admin",
        "pwd": "123",
        "ssh_port": "33333"
    }
}
```



### 二、字典的数据操作

#### 1、获取数据

```
data_02 = { "martin":"redhat", "robin":"123" }

print(data_02["robin"])
print(data_02.get("martin"))
print(data_02.get("king"))

```

#### 2、添加数据

```
data_02 = { "martin":"redhat", "robin":"123" }

data_02["tome"] = "123456"

print(data_02)
```

#### 3、修改数据

```
data_02 = { "martin":"redhat", "robin":"123" }

data_02["martin"] = "WWW.1.com"

print(data_02)
```

```
data_03 = {
    "10.1.1.1": {
        "user": "root",
        "pwd": "redhat",
        "ssh_port": "22"
    },
    "10.1.1.2": {
        "user": "admin",
        "pwd": "123",
        "ssh_port": "33333"
    }
}

print(data_03.get("10.1.1.2").get("ssh_port"))

data_03["10.1.1.3"] = { "user": "robin", "pwd": "jfdskla", "ssh_port": "22" }
data_03["10.1.1.1"]["pwd"] = "www.1.com"

print(data_03)
```



### 三、字典的操作方法

#### 1、keys( )

```
以列表的形式返回字典中所有的键
```

```
>>> data_02 = { "martin":"redhat", "robin":"123" }
>>>
>>> data_02.keys()
dict_keys(['martin', 'robin'])
```



#### 2、values( )

```
以列表的形式返回字典中所有值 
```

```
>>> data_02 = { "martin":"redhat", "robin":"123" }

>>> data_02.values()
dict_values(['redhat', '123'])
```



#### 4、items( )

```
以列表的形式返回字典中键值对的组合
```

```
>>> data_02 = { "martin":"redhat", "robin":"123" }
>>>
>>> data_02.items()
dict_items([('martin', 'redhat'), ('robin', '123')])
```



### 四、遍历字典

```
data_02 = { "martin":"redhat", "robin":"123" }

for i in data_02:
    print("---> %s" % i)

print("--------" * 10)

for j in data_02:
    print("---> %s" % data_02.get(j))

print("--------" * 10)

for k in data_02:
    print("用户名: %s, 密码: %s" % (k, data_02.get(k)))
```

```
data_02 = { "martin":"redhat", "robin":"123" }

for k, v in data_02.items():
    print("用户名: %s, 密码: %s" % (k, v))
```

```
data_03 = {
    "10.1.1.1": {
        "user": "root",
        "pwd": "redhat",
        "ssh_port": "22"
    },
    "10.1.1.2": {
        "user": "admin",
        "pwd": "123",
        "ssh_port": "33333"
    }
}

for ip, info in data_03.items():
    print("ssh %s@%s -p %s" % (info.get("user"), ip, info.get("ssh_port")))
```



#### 示例1: 统计IP地址的次数

```
ip_list = [ "10.1.1.1", "10.1.1.2","10.1.1.1", "10.1.1.100","10.1.1.1", "10.1.1.2","10.1.1.1", "10.1.1.2" ]
ip_count = {}    # {"IP地址": 次数}

for ip in ip_list:
    # 判断IP是否在字典中出现
    if ip in ip_count.keys():
        ip_count[ip] = ip_count[ip] + 1
    else:
        ip_count[ip] = 1

# 输出结果
for k, v in ip_count.items():
    print("IP地址: %s, 次数: %s" % (k, v))
```



#### 示例2: 模拟用户注册、登录功能  

```
import sys

menu = """
---------用户管理-----------
1、用户注册
2、用户登录
3、退出

选择>>> 
"""

users = {}      # {“用户名":"密码"}

while True:
    choice = input(menu).strip()

    if choice == "1":
        # 获取可注册的用户名
        while True:
            username = input("用户名: ")
            if username in users.keys():
                print("用户名%s已存在，重新输入" % username)
                continue
            else:
                break
        # 获取用户密码
        while True:
            pwd1 = input("密码: ")
            pwd2 = input("确认密码: ")
            if pwd1 != pwd2:
                print("密码不一致，重新输入")
            else:
                break
        # 保存用户信息
        users[username] = pwd1
        print("用户%s注册成功！" % username)
    elif choice == "2":
        username = input("用户名: ")
        password = input("密码: ")
        # 判断用户存在，且密码与注册时的密码一致
        if username in users.keys() and password == users.get(username):
            print("用户%s登录成功" % username)
        else:
            print("用户%s登录失败，检查用户名、密码是否正确" % username)
    elif choice == "3":
        sys.exit()
    else:
        print("输入有误！")
```









