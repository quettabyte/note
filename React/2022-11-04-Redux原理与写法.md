---
title: Reduxçš„åŸç†ä¸å†™æ³•
date: 2022-11-04 20:22:10
author: cokeice
tags: [JavaScript, React, redux]
categories: 
    - ç¬”è®°
    - Reactæ¡†æ¶
index_img: /img/react/react.webp
---

<p align='center'>
<a href="https://www.github.com/Cokeic" target="_blank"><img src="https://img.shields.io/badge/Github-@å¯ä¹å†°-f3e1e1.svg?style=flat-square&logo=Github&logoColor=181717"></a><a href="https://www.gitee.com/Cokeice" target="_blank"><img src="https://img.shields.io/badge/Gitee-@å¯ä¹å†°-f3e1e1.svg?style=flat-square&logo=Gitee&logoColor=C71D23"></a><a href="https://cokeice.gitee.io/img/wechat/wx.png" target="_blank"><img src="https://img.shields.io/badge/å¾®ä¿¡-@LNFeng-f3e1e1.svg?style=flat-square&logo=WeChat"></a>

## Reduxå·¥ä½œæµç¨‹ğŸ“š

<img src="https://cokeiceimg-1313926630.cos.ap-beijing.myqcloud.com/img/redux-yuanli.jpg" style="zoom:50%;" />

å®¢æˆ·-æœåŠ¡å‘˜-è€æ¿-å¨å¸ˆğŸ¤£

## reduxç²¾ç®€ç‰ˆ

1. å»é™¤Countç»„ä»¶è‡ªèº«çš„çŠ¶æ€

2. ğŸ“‚`src`ä¸‹å»ºç«‹:

   * -redux

   * -store.js
   * -count_reducer.js

3. ğŸ“„`store.js`ï¼š

   * å¼•å…¥reduxä¸­çš„createStoreå‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªstore
   * createStoreè°ƒç”¨æ—¶è¦ä¼ å…¥ä¸€ä¸ªä¸ºå…¶æœåŠ¡çš„reducer
   * è®°å¾—æš´éœ²storeå¯¹è±¡

   ```js
   /* è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºæš´éœ²ä¸€ä¸ªstoreå¯¹è±¡ï¼Œæ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªstoreå¯¹è±¡*/
   //å¼•å…¥createStoreï¼Œä¸“é—¨ç”¨äºåˆ›å»ºreduxä¸­æœ€ä¸ºæ ¸å¿ƒçš„storeå¯¹è±¡
   import {createStore} from 'redux'
   //å¼•å…¥ä¸ºCountç»„ä»¶æœåŠ¡çš„reducer
   import countReducer from './count_reducer'
   //æš´éœ²store
   export default createStore(countReducer)
   ```

4. ğŸ“„`count_reducer.js`ï¼š

   * reducerçš„æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ï¼špreState,actionï¼Œè¿”å›åŠ å·¥åçš„çŠ¶æ€
   * reduceræœ‰ä¸¤ä¸ªä½œç”¨ï¼šåˆå§‹åŒ–çŠ¶æ€ï¼ŒåŠ å·¥çŠ¶æ€
   * reducerè¢«ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œæ˜¯storeè‡ªåŠ¨è§¦å‘çš„ï¼Œ
     * ä¼ é€’çš„preStateæ˜¯undefined,
     * ä¼ é€’çš„actionæ˜¯:{type:'@@REDUX/INIT_a.2.b.4}

   ```js
   /* 
   	1.è¯¥æ–‡ä»¶æ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ªä¸ºCountç»„ä»¶æœåŠ¡çš„reducerï¼Œreducerçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°
   	2.reducerå‡½æ•°ä¼šæ¥åˆ°ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºï¼šä¹‹å‰çš„çŠ¶æ€(preState)ï¼ŒåŠ¨ä½œå¯¹è±¡(action)
   */
   const initState = 0 //åˆå§‹åŒ–çŠ¶æ€
   export default function countReducer(preState=initState,action){
   	// console.log(preState);
   	//ä»actionå¯¹è±¡ä¸­è·å–ï¼štypeã€data
   	const {type,data} = action
   	//æ ¹æ®typeå†³å®šå¦‚ä½•åŠ å·¥æ•°æ®
   	switch (type) {
   		case 'increment': //å¦‚æœæ˜¯åŠ 
   			return preState + data
   		case 'decrement': //è‹¥æœæ˜¯å‡
   			return preState - data
   		default:
   			return preState
   	}
   }
   ```

5. åœ¨ğŸ“„`index.js`ä¸­ç›‘æµ‹storeä¸­çŠ¶æ€çš„æ”¹å˜ï¼Œä¸€æ—¦å‘ç”Ÿæ”¹å˜é‡æ–°æ¸²æŸ“`<App/>`

   * ğŸ“œå¤‡æ³¨ï¼šreduxåªè´Ÿè´£ç®¡ç†çŠ¶æ€ï¼Œè‡³äºçŠ¶æ€çš„æ”¹å˜é©±åŠ¨ç€é¡µé¢çš„å±•ç¤ºï¼Œè¦é æˆ‘ä»¬è‡ªå·±å†™ã€‚
   * ğŸ’¢æ³¨æ„ï¼šreact-reduxä¸­ä¸éœ€è¦ç›‘å¬ï¼Œå› ä¸ºåˆ›å»ºå®¹å™¨ç»„ä»¶ä¼šè‡ªåŠ¨ç›‘æµ‹storeä¸­çš„çŠ¶æ€ï¼Œä»è€Œè°ƒrender

   ```js
   const myroot = document.getElementById('root')
   const root = ReactDOM.createRoot(myroot)
   root.render(<App />)
   store.subscribe(()=>{
   	root.render(<App />)
   })
   ```

## redux å®Œæ•´ç‰ˆ

ä¸ç²¾ç®€ç‰ˆçš„ä¸»è¦åŒºåˆ«ğŸ§©ï¼šï¼ˆæ–°å¢æ–‡ä»¶ï¼‰

* ğŸ“„`count_action.js` ä¸“é—¨ç”¨äºåˆ›å»ºactionå¯¹è±¡
* ğŸ“„`constant.js` æ”¾ç½®å®¹æ˜“å†™é”™çš„typeå€¼

```js
// è¯¥æ–‡ä»¶ä¸“é—¨ä¸ºCountç»„ä»¶ç”Ÿæˆactionå¯¹è±¡
import {INCREMENT,DECREMENT} from './constant'
export const increment = data => ({type:INCREMENT,data})
export const decrement = data => ({type:DECREMENT,data})
//-----------------åˆ†éš”çº¿-----------------
// è¯¥æ¨¡å—æ˜¯ç”¨äºå®šä¹‰actionå¯¹è±¡ä¸­typeç±»å‹çš„å¸¸é‡å€¼ï¼Œ
// ç›®çš„åªæœ‰ä¸€ä¸ªï¼šä¾¿äºç®¡ç†çš„åŒæ—¶é˜²æ­¢ç¨‹åºå‘˜å•è¯å†™é”™
export const INCREMENT = 'increment'
export const DECREMENT = 'decrement'
```

## reduxâ€”â€”å¼‚æ­¥action

1. âœ”æ˜ç¡®ï¼šå»¶è¿Ÿçš„åŠ¨ä½œä¸æƒ³äº¤ç»™ç»„ä»¶è‡ªèº«ï¼Œæƒ³äº¤ç»™action

2. ä½•æ—¶éœ€è¦å¼‚æ­¥actionï¼šæƒ³è¦å¯¹çŠ¶æ€è¿›è¡Œæ“ä½œï¼Œä½†æ˜¯å…·ä½“çš„æ•°æ®é å¼‚æ­¥ä»»åŠ¡è¿”å›ã€‚

3. âœ’å…·ä½“ç¼–ç ï¼š
   1. yarn add redux-thunkï¼Œå¹¶é…ç½®åœ¨storeä¸­

      ```shell
      npm install redux-thunk
      ```

   2. åˆ›å»ºactionçš„å‡½æ•°ä¸å†è¿”å›ä¸€èˆ¬å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸­å†™å¼‚æ­¥ä»»åŠ¡ã€‚

      ```js
      //å¼‚æ­¥actionï¼Œå°±æ˜¯æŒ‡actionçš„å€¼ä¸ºå‡½æ•°,
      //å¼‚æ­¥actionä¸­ä¸€èˆ¬éƒ½ä¼šè°ƒç”¨åŒæ­¥actionï¼Œå¼‚æ­¥actionä¸æ˜¯å¿…é¡»è¦ç”¨çš„ã€‚
      export const createIncrementAsyncAction = (data,time) => {
      	return (dispatch)=>{
      		setTimeout(()=>{
      			dispatch(createIncrementAction(data))
      		},time)
      	}
      }
      //-----------------åˆ†éš”çº¿-----------------
      import {createStore,applyMiddleware} from 'redux'
      import thunk from 'redux-thunk' //å¼•å…¥redux-thunkï¼Œç”¨äºæ”¯æŒå¼‚æ­¥action
      export default createStore(reducer,applyMiddleware(thunk))
      ```

   3. å¼‚æ­¥ä»»åŠ¡æœ‰ç»“æœåï¼Œåˆ†å‘ä¸€ä¸ªåŒæ­¥çš„actionå»çœŸæ­£æ“ä½œæ•°æ®ã€‚

4. ğŸ¯å¤‡æ³¨ï¼šå¼‚æ­¥actionä¸æ˜¯å¿…é¡»è¦å†™çš„ï¼Œå®Œå…¨å¯ä»¥è‡ªå·±ç­‰å¾…å¼‚æ­¥ä»»åŠ¡çš„ç»“æœäº†å†å»åˆ†å‘åŒæ­¥actionã€‚

## React-ReduxåŸºæœ¬æ¦‚å¿µ

<img src="https://cokeiceimg-1313926630.cos.ap-beijing.myqcloud.com/img/react-redux-yuanli.jpg" style="zoom:50%;" />

1. âœ”æ˜ç¡®ä¸¤ä¸ªæ¦‚å¿µï¼š
   * UIç»„ä»¶:ä¸èƒ½ä½¿ç”¨ä»»ä½•reduxçš„apiï¼Œåªè´Ÿè´£é¡µé¢çš„å‘ˆç°ã€äº¤äº’ç­‰ã€‚
   * å®¹å™¨ç»„ä»¶ï¼šè´Ÿè´£å’Œreduxé€šä¿¡ï¼Œå°†ç»“æœäº¤ç»™UIç»„ä»¶ã€‚

2. ğŸ¨å¦‚ä½•åˆ›å»ºä¸€ä¸ªå®¹å™¨ç»„ä»¶â€”â€”â€”â€”é react-redux çš„ connectå‡½æ•°
   * connect(mapStateToProps,mapDispatchToProps)(UIç»„ä»¶)
     * -mapStateToProps:æ˜ å°„çŠ¶æ€ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡
     * -mapDispatchToProps:æ˜ å°„æ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡

3. ğŸ¯å¤‡æ³¨ï¼š
   * å®¹å™¨ç»„ä»¶ä¸­çš„storeæ˜¯é propsä¼ è¿›å»çš„ï¼Œè€Œä¸æ˜¯åœ¨å®¹å™¨ç»„ä»¶ä¸­ç›´æ¥å¼•å…¥
   * mapDispatchToPropsï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆç®€å†™ï¼‰
   * ä½¿ç”¨äº†react-reduxåä¹Ÿä¸ç”¨å†è‡ªå·±æ£€æµ‹reduxä¸­çŠ¶æ€çš„æ”¹å˜äº†ï¼Œå®¹å™¨ç»„ä»¶å¯ä»¥è‡ªåŠ¨å®Œæˆè¿™ä¸ªå·¥ä½œã€‚

## react-reduxåŸºç¡€å†™æ³•

> åšé¡¹ç›®çš„æ—¶å€™ä¸è¿™ä¹ˆå†™ï¼Œä¼šä½¿ç”¨ç®€å†™ï¼Œä½†æ˜¯è¿™ä¸ªåŸºç¡€å†™æ³•æ›´å®¹æ˜“çœ‹æ‡‚å…¶ä¸­çš„é€»è¾‘ä¸å„ä¸ªæ–‡ä»¶é—´çš„å…³ç³»

```shell
npm install react-redux
```

1. UIç»„ä»¶

   ğŸ“‚`components`

   ```jsx
   import React, { Component } from 'react'
   export default class Count extends Component {
   	increment = ()=>{ //åŠ æ³•
   		const {value} = this.selectNumber
   		this.props.jia(value*1)
   	}
   	decrement = ()=>{ //å‡æ³•
   		const {value} = this.selectNumber
   		this.props.jian(value*1)
   	}
   	incrementIfOdd = ()=>{ //å¥‡æ•°å†åŠ 
   		const {value} = this.selectNumber
   		if(this.props.count % 2 !== 0){
   			this.props.jia(value*1)
   		}
   	}
   	incrementAsync = ()=>{ //å¼‚æ­¥åŠ 
   		const {value} = this.selectNumber
   		this.props.jiaAsync(value*1,500)
   	}
   	render() {
   		return (
   			<div>
   				<h1>å½“å‰æ±‚å’Œä¸ºï¼š{this.props.count}</h1>
   				<select ref={c => this.selectNumber = c}>
   					<option value="1">1</option>
   					<option value="2">2</option>
   					<option value="3">3</option>
   				</select>&nbsp;
   				<button onClick={this.increment}>+</button>&nbsp;
   				<button onClick={this.decrement}>-</button>&nbsp;
   				<button onClick={this.incrementIfOdd}>å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>&nbsp;
   				<button onClick={this.incrementAsync}>å¼‚æ­¥åŠ </button>&nbsp;
   			</div>
   		)
   	}
   }
   ```

2. å®¹å™¨ç»„ä»¶

   ğŸ“‚`container`

   ```js
   //å¼•å…¥Countçš„UIç»„ä»¶
   import CountUI from '../../components/Count'
   //å¼•å…¥action
   import {
   	createIncrementAction,
   	createDecrementAction,
   	createIncrementAsyncAction
   } from '../../redux/count_action'
   
   //å¼•å…¥connectç”¨äºè¿æ¥UIç»„ä»¶ä¸redux
   import {connect} from 'react-redux'
   
   /* 
   	1.mapStateToPropså‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›
   	2.è¿”å›çš„å¯¹è±¡ä¸­çš„keyå°±ä½œä¸ºä¼ é€’ç»™UIç»„ä»¶propsçš„key,valueå°±ä½œä¸ºä¼ é€’ç»™UIç»„ä»¶propsçš„value
   	3.mapStateToPropsç”¨äºä¼ é€’çŠ¶æ€
   */
   function mapStateToProps(state){
   	return {count:state}
   }
   
   /* 
   	1.mapDispatchToPropså‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›
   	2.è¿”å›çš„å¯¹è±¡ä¸­çš„keyå°±ä½œä¸ºä¼ é€’ç»™UIç»„ä»¶propsçš„key,valueå°±ä½œä¸ºä¼ é€’ç»™UIç»„ä»¶propsçš„value
   	3.mapDispatchToPropsç”¨äºä¼ é€’æ“ä½œçŠ¶æ€çš„æ–¹æ³•
   */
   function mapDispatchToProps(dispatch){
   	return {
   		jia:number => dispatch(createIncrementAction(number)),
   		jian:number => dispatch(createDecrementAction(number)),
   		jiaAsync:(number,time) => dispatch(createIncrementAsyncAction(number,time)),
   	}
   }
   
   //ä½¿ç”¨connect()()åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªCountçš„å®¹å™¨ç»„ä»¶
   export default connect(mapStateToProps,mapDispatchToProps)(CountUI)
   ```

3. ğŸ“„`store.js`

   ```js
   /* 
   	è¯¥æ–‡ä»¶ä¸“é—¨ç”¨äºæš´éœ²ä¸€ä¸ªstoreå¯¹è±¡ï¼Œæ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªstoreå¯¹è±¡
   */
   
   //å¼•å…¥createStoreï¼Œä¸“é—¨ç”¨äºåˆ›å»ºreduxä¸­æœ€ä¸ºæ ¸å¿ƒçš„storeå¯¹è±¡
   import {createStore,applyMiddleware} from 'redux'
   //å¼•å…¥ä¸ºCountç»„ä»¶æœåŠ¡çš„reducer
   import countReducer from './count_reducer'
   //å¼•å…¥redux-thunkï¼Œç”¨äºæ”¯æŒå¼‚æ­¥action
   import thunk from 'redux-thunk'
   //æš´éœ²store
   export default createStore(countReducer,applyMiddleware(thunk))
   ```

4. ğŸ“„`countant.js`å®šä¹‰actionå¯¹è±¡ä¸­typeç±»å‹çš„å¸¸é‡å€¼

   ```js
   /* 
   	è¯¥æ¨¡å—æ˜¯ç”¨äºå®šä¹‰actionå¯¹è±¡ä¸­typeç±»å‹çš„å¸¸é‡å€¼ï¼Œç›®çš„åªæœ‰ä¸€ä¸ªï¼šä¾¿äºç®¡ç†çš„åŒæ—¶é˜²æ­¢ç¨‹åºå‘˜å•è¯å†™é”™
   */
   export const INCREMENT = 'increment'
   export const DECREMENT = 'decrement'
   ```

5. ğŸ“„`count_action.js` åˆ›å»ºactionå¯¹è±¡ç”¨çš„

   ```js
   /* 
   	è¯¥æ–‡ä»¶ä¸“é—¨ä¸ºCountç»„ä»¶ç”Ÿæˆactionå¯¹è±¡
   */
   import {INCREMENT,DECREMENT} from './constant'
   
   //åŒæ­¥actionï¼Œå°±æ˜¯æŒ‡actionçš„å€¼ä¸ºObjectç±»å‹çš„ä¸€èˆ¬å¯¹è±¡
   export const createIncrementAction = data => ({type:INCREMENT,data})
   export const createDecrementAction = data => ({type:DECREMENT,data})
   
   //å¼‚æ­¥actionï¼Œå°±æ˜¯æŒ‡actionçš„å€¼ä¸ºå‡½æ•°,å¼‚æ­¥actionä¸­ä¸€èˆ¬éƒ½ä¼šè°ƒç”¨åŒæ­¥actionï¼Œå¼‚æ­¥actionä¸æ˜¯å¿…é¡»è¦ç”¨çš„ã€‚
   export const createIncrementAsyncAction = (data,time) => {
   	return (dispatch)=>{
   		setTimeout(()=>{
   			dispatch(createIncrementAction(data))
   		},time)
   	}
   }
   ```

6. ğŸ“„`count_reducer.js` åˆ›å»ºä¸€ä¸ªä¸ºCountç»„ä»¶æœåŠ¡çš„reducer

   ```js
   /* 
   	1.è¯¥æ–‡ä»¶æ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ªä¸ºCountç»„ä»¶æœåŠ¡çš„reducerï¼Œreducerçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°
   	2.reducerå‡½æ•°ä¼šæ¥åˆ°ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºï¼šä¹‹å‰çš„çŠ¶æ€(preState)ï¼ŒåŠ¨ä½œå¯¹è±¡(action)
   */
   import {INCREMENT,DECREMENT} from './constant'
   
   const initState = 0 //åˆå§‹åŒ–çŠ¶æ€
   export default function countReducer(preState=initState,action){
   	// console.log(preState);
   	//ä»actionå¯¹è±¡ä¸­è·å–ï¼štypeã€data
   	const {type,data} = action
   	//æ ¹æ®typeå†³å®šå¦‚ä½•åŠ å·¥æ•°æ®
   	switch (type) {
   		case INCREMENT: //å¦‚æœæ˜¯åŠ 
   			return preState + data
   		case DECREMENT: //è‹¥æœæ˜¯å‡
   			return preState - data
   		default:
   			return preState
   	}
   }
   ```

7. ğŸ“„`App.jsx` æ¸²æŸ“è¿™ä¸ªç»„ä»¶åˆ°é¡µé¢

   ```jsx
   import React, { Component } from 'react'
   import Count from './containers/Count'
   import store from './redux/store'
   
   export default class App extends Component {
   	render() {
   		return (
   			<div>
   				{/* ç»™å®¹å™¨ç»„ä»¶ä¼ é€’store */}
   				<Count store={store} />
   			</div>
   		)
   	}
   }
   ```

## react-reduxç®€å†™

> éœ€è¦é…åˆä¸Šé¢çš„åŸºç¡€å†™æ³•æ¥çœ‹

1. å°†UIç»„ä»¶ä¸å®¹å™¨ç»„ä»¶æ•´åˆæˆä¸€ä¸ªæ–‡ä»¶

   ğŸ“‚`container`

   ```jsx
   //å¯¼å…¥æ‰€éœ€çš„æ¨¡å—
   import ....
   
   //UIç»„ä»¶æ”¾åœ¨è¿™é‡Œï¼Œä¸éœ€è¦é»˜è®¤å¯¼å‡ºï¼Œå› ä¸ºåªæœ‰å®¹å™¨ç»„ä»¶éœ€è¦è°ƒç”¨
   class Count extends Component {
       ...;
   }
   
   //å®¹å™¨ç»„ä»¶æ”¾åœ¨è¿™
   ```

2. å®¹å™¨ç»„ä»¶ä¸­connectä¸­ç»™UIç»„ä»¶ä¼ é€’çš„propsç®€å†™

   ```jsx
   //å¼•å…¥action
   
   //åŸºç¡€ç‰ˆçœ‹ä¸Šé¢çš„åŸºç¡€å†™æ³•
   export default connect(
       state => ({key:value}), //æ˜ å°„çŠ¶æ€
       {key:xxxxxAction} //æ˜ å°„æ“ä½œçŠ¶æ€çš„æ–¹æ³•
       // å°½é‡è§¦å‘å¯¹è±¡çš„ç®€å†™å½¢å¼
   )(UIç»„ä»¶)
   ```

3. æŠŠæ‰€æœ‰ç»„ä»¶çš„reduceræ–‡ä»¶æ”¾åœ¨ğŸ“‚`src/redux/reducers`ä¸‹

4. æŠŠæ‰€æœ‰ç»„ä»¶çš„actionæ–‡ä»¶æ”¾åœ¨ğŸ“‚`src/redux/actions`ä¸‹

5. åœ¨ğŸ“‚`reducers`ä¸‹æ–°å»ºğŸ“„`index.js`æ–‡ä»¶ä¸“é—¨ç”¨äºæ±‡æ€»å¹¶æš´éœ²æ‰€æœ‰çš„reducer

   ```js
   //å¼•å…¥combineReducersï¼Œç”¨äºæ±‡æ€»å¤šä¸ªreducer
   import {combineReducers} from 'redux'
   //å¼•å…¥ä¸ºå„ä¸ªç»„ä»¶æœåŠ¡çš„reducer
   
   //æ±‡æ€»æ‰€æœ‰çš„reducerå˜ä¸ºä¸€ä¸ªæ€»çš„reducer
   //key1å’Œkey2å°±æ˜¯ä»¥åä»reduxä¸­è·å–å„ä¸ªç»„ä»¶å…±äº«çŠ¶æ€çš„keyå€¼
   export default  combineReducers({
   	key1:reducer1,
   	key2:reducer2
   })
   ```

6. æ— éœ€è‡ªå·±ç»™å®¹å™¨ç»„ä»¶ä¼ é€’storeï¼Œç»™`<App/>`åŒ…è£¹ä¸€ä¸ª`<Provider store={store}>`å³å¯

   ```jsx
   import store from './redux/store'
   import {Provider} from 'react-redux'
   root.render(
   	/* æ­¤å¤„éœ€è¦ç”¨ProvideråŒ…è£¹Appï¼Œç›®çš„æ˜¯è®©Appæ‰€æœ‰çš„åä»£å®¹å™¨ç»„ä»¶éƒ½èƒ½æ¥æ”¶åˆ°store */
   	<Provider store={store}>
   		<App/>
   	</Provider>
   )
   ```

7. **ä¸€ä¸ªç»„ä»¶è¦å’Œreduxâ€œæ‰“äº¤é“â€è¦ç»è¿‡å“ªå‡ æ­¥ï¼Ÿ**

   * å®šä¹‰å¥½UIç»„ä»¶---ä¸æš´éœ²

   * å¼•å…¥connectç”Ÿæˆä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œå¹¶æš´éœ²ï¼Œå†™æ³•å¦‚ä¸‹ï¼š

     ```js
     connect(
         state => ({key:value}), //æ˜ å°„çŠ¶æ€
         {key:xxxxxAction} //æ˜ å°„æ“ä½œçŠ¶æ€çš„æ–¹æ³•
     )(UIç»„ä»¶)
     ```

   * åœ¨UIç»„ä»¶ä¸­é€šè¿‡this.props.xxxxxxxè¯»å–å’Œæ“ä½œçŠ¶æ€

## reduxæ•°æ®å…±äº«

éœ€è¦å…±äº«çš„å®¹å™¨ç»„ä»¶çš„reducerè¦ä½¿ç”¨combineReducersè¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶åçš„æ€»çŠ¶æ€æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ï¼ï¼

å…·ä½“å†™æ³•çœ‹ä¸Šé¢`<react-reduxç®€å†™>`ä¸­çš„`5.`

## react-reduxå¼€å‘è€…å·¥å…·çš„ä½¿ç”¨

```shell
npm install redux-devtools-extension
```

âš™storeä¸­è¿›è¡Œé…ç½® 

â€‹	ğŸ“„`store.js`

```js
import {composeWithDevTools} from 'redux-devtools-extension'
const store = createStore(allReducer,composeWithDevTools(applyMiddleware(thunk)))
```

ğŸ’¦æµè§ˆå™¨ä¸­å®‰è£…Redux DevTools













